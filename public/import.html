<html>
	<head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <title>Paint the Fence</title>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Chivo">
        <link rel="stylesheet" type="text/css" href="styles.css">
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/87/three.min.js"></script>
		<script src="assets/OrbitControls.js"></script>
		<script src="assets/OBJLoader.js"></script>
		<script src="assets/MTLLoader.js"></script>

    <script src="crop-script.js"></script>
	</head>
	<body>
      <script src="/scripts.js"></script>
      
      <nav> 
        <div class="page-title">
          <img class="page-title-img" src="assets/paint-from-import-title.png">
        </div>
        <div id="home-link">
          <a href="/"><img class="small-icon" src="assets/icons/home-01.svg"></a>
        </div>
      </nav>
      <br><br>
      <div id="import">
        <p><b>{ 1 } </b>Download texture template and fit texture image to lines.</p>
        <div id="uploaded-img">
          <a class="button" href="assets/texture_template.png" download="texture_template.png">DONWLOAD TEMPLATE</a>
        </div>
        <p><b>{ 2 } </b>Upload modified texture image.</p>
        <div id="upload-img-div">
          <form action="/" enctype="multipart/form-data" method="post">
            <label for="file-upload" id="choose-file-label" class="button">
              <i id="uploaded-filename"></i> CHOOSE FILE
            </label>
            <input id="file-upload" type="file" name="upload" value="CHOOSE FILE" style="display:none">
            &nbsp;&nbsp;            
            <input class="button" type="submit" value="UPLOAD">
          </form>
        </div>
      </div>

      <div id="img-transform">
          <p>Uploaded image:</p>
          <img id="crop-img" class="resizable" src="assets/uploads/tex_image.jpg">
      </div>
      <br>

      <div id="downloads-div">
        <p><b>{ 3 } </b>View model below or download these files to view your new model offline. (do NOT change file names)</p>
          <!-- default downloads, changed when upload happens -->
        <a class="button" href="assets/uploads/fence.mtl" download="fence.mtl">fence.mtl </a>
        &nbsp;&nbsp;
        <a class="button" href="assets/uploads/tex_image.jpg" download="tex_image.jpg"> tex_image.jpg </a>
        &nbsp;&nbsp;
        <a class="button"href="assets/models/fence/fence.obj" download="fence.obj"> fence.obj </a>
      </p>
      </div>

      <div id="tips">
        <ul style="list-style-type:none;"><b>TIPS:</b>
          <li> Right mouse button to rotate. Left mouse button drag to pan. Mouse wheel to zoom</li>
          <li> Refresh page to update 3D viewer size.</li>
          <li> If new texture doesn't show up, click <u onclick="changeToUpload()" style="cursor:pointer">here</u>.</li>
        </ul>
      </div>
      <br>

      <div id="import-canvas"></div>
      <div id="bottom">
          <div id="cmu-tag"><b>@carnegie-mellon</b></div>
          <div id="back-to-top">back to top<a href="#"><img id="back-to-top-icon" src="assets/icons/back-to-top-01.svg"></p></a></div>
      </div>
	</body>
</html>